version: '3.7'
services:
  dnf:
    image: scjtqs/dnf-centos5
    container_name: dnf
    hostname: dnf
    privileged: true
    tty: true
    network_mode: host
    environment:
      # DB_HOST 如果你是外部db修改这里的db配置吧
      - DB_HOST=127.0.0.1
      #添加你的公网Ip，如果处于nat网络中，请自行做好穿透
      - PublicIp=192.168.50.184
      - DB_USER=game  #数据库的用户名
      - DB_PASS=uu5!^%jg  #数据库密码
      - DB_KEY=20e35501e56fcedbe8b10c1f8bc3595be8b10c1f8bc3595b  #数据库密码对应的密文. 可以用tea.php 计算。
#    ports:
#      - 2311-2313:2311-2313/tcp
#      - 2311-2313:2311-2313/udp
#      - 7000-7001:7000-7001/udp
#      - 7000-7001:7000-7001/tcp
#      - 7200-7201:7200-7201/tcp
#      - 7200-7201:7200-7201/udp
#      - 8000:8000/tcp
#      - 8000:8000/udp
#      - 8100:8100/tcp
#      - 8100:8100/udp
#      - 9006:9006/tcp
#      - 9006:9006/udp
#      - 10001:10001/tcp
#      - 11001:11001/udp
#      - 10031:10031/tcp
#      - 11031:11031/udp
#      - 20017-20018:20017-20018/tcp
#      - 20017-20018:20017-20018/udp
#      - 20201:20201/tcp
#      - 20201:20201/udp
#      - 20203:20203/tcp
#      - 20203:20203/udp
#      - 20301:20301/tcp
#      - 20301:20301/udp
#      - 20303:20303/tcp
#      - 20303:20303/udp
#      - 20401:20401/tcp
#      - 20401:20401/udp
#      - 20403:20403/tcp
#      - 20403:20403/udp
#      - 30301:30301/tcp
#      - 30301:30301/udp
#      - 30303:30303/tcp
#      - 30303:30303/udp
#      - 30401:30401/tcp
#      - 30401:30401/udp
#      - 30403:30403/tcp
#      - 30403:30403/udp
#      - 30501:30501/tcp
#      - 30501:30501/udp
#      - 30503:30503/tcp
#      - 30503:30503/udp
#      - 30601:30601/tcp
#      - 30601:30601/udp
#      - 30701:30701/tcp
#      - 30701:30701/udp
#      - 30801:30801/tcp
#      - 30801:30801/udp
#      - 31001:31001/tcp
#      - 31001:31001/udp
#      - 31100:31100/tcp
#      - 31100:31100/udp
    volumes:
      - ./db:/home/data/
      - ./Script.pvf:/src/Script.pvf
      - ./run.sh:/root/run.sh
